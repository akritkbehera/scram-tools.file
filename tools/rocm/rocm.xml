<tool name="@TOOL@" version="@TOOL_VERSION@" revision="6">
  <info url="https://rocm.docs.amd.com/en/docs-@TOOL_VERSION@/"/>
  <lib name="amdhip64"/>
  <lib name="hsa-runtime64"/>
  <lib name="rocm_smi64"/>
  <client>
    <environment name="@TOOL_BASE@" default="@TOOL_ROOT@"/>
    <environment name="HIPCC"     default="$@TOOL_BASE@/bin/hipcc"/>
    <environment name="BINDIR"    default="$@TOOL_BASE@/bin"/>
    <environment name="LIBDIR"    default="$@TOOL_BASE@/lib"/>
    <environment name="INCLUDE"   default="$@TOOL_BASE@/include"/>
  </client>
  <flags CPPDEFINES="__HIP_PLATFORM_HCC__ __HIP_PLATFORM_AMD__"/>
  <flags ROCM_FLAGS="@ROCM_FLAGS@"/>
  <flags ROCM_FLAGS="-fgpu-rdc"/>
%if "%{default_microarch_name}"
%if "%{default_microarch_name}" != "%{min_microarch_name}"
  <flags REM_ROCM_HOST_CXXFLAGS="-march=%%"/>
  <flags ROCM_HOST_CXXFLAGS="-march=%{min_microarch_name}"/>
%endif
%endif
  <!-- use -isystem instead of -I to silence warnings in the HIP/ROCm headers -->
  <flags SYSTEM_INCLUDE="1"/>
  <runtime name="ROOT_INCLUDE_PATH" value="$INCLUDE" type="path" join="1"/>
  <runtime name="PATH" value="$@TOOL_BASE@/bin" type="path"/>
  <runtime name="HSA_XNACK" value="1"/>
  <use name="fmt"/>
</tool>
